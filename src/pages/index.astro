---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const socialLinks = [
  { platform: 'Instagram', url: 'https://instagram.com' },
  { platform: 'LinkedIn', url: 'https://linkedin.com' },
  { platform: 'Twitter', url: 'https://twitter.com' },
];

// Generic services or areas of expertise
const expertise = [
  'Web Development',
  'HTML & CSS',
  'JavaScript',
  'Responsive Design',
  'UI/UX Fundamentals',
  'Digital Strategy'
];
---

<Layout title="Ioannis Lo - Portfolio">
  <Header />
  
  <main class="space-y-24 md:space-y-32">
    <!-- Hero Section -->
    <section id="home" class="pt-4">
      <h1 class="text-3xl md:text-4xl font-bold text-white mb-6 tracking-tight max-w-xl">
        Building the web, one pixel at a time.
      </h1>
      <p class="text-neutral-400 text-lg leading-relaxed max-w-xl mb-8">
        I'm Ioannis. I'm a web enthusiast passionate about creating clean and functional websites. Welcome to my personal portfolio.
      </p>
      <div class="flex gap-4">
        <a 
          href="/IOANNIS_LOUGIAKIS_CV.pdf" 
          download="IOANNIS_LOUGIAKIS_CV.pdf"
          class="inline-flex items-center justify-center px-6 py-3 rounded-full bg-white text-black font-medium hover:bg-neutral-200 transition-colors"
        >
          Download CV
        </a>
        <a 
          href="#contact" 
          class="px-6 py-3 rounded-full text-neutral-300 hover:text-white border border-neutral-800 hover:border-neutral-600 transition-all"
        >
          Get in Touch
        </a>
      </div>
    </section>

    <!-- About Section -->
    <section id="about">
      <h2 class="text-xs font-bold text-neutral-500 mb-8 uppercase tracking-widest">About</h2>
      <div class="space-y-6 text-neutral-400 leading-relaxed max-w-2xl">
        <p>
          I am starting my journey in web development with a focus on the fundamentals. 
          I enjoy turning designs into working code and learning new technologies along the way.
        </p>
        <p>
          My goal is to build accessible and performant websites while continuously improving my skillset in the ever-evolving tech landscape.
        </p>
        <blockquote class="pl-4 border-l-2 border-neutral-800 italic text-neutral-500 mt-6">
          "Every expert was once a beginner."
        </blockquote>
      </div>
    </section>

    <!-- Expertise/Skills Section (Generic) -->
    <section id="skills">
      <h2 class="text-xs font-bold text-neutral-500 mb-8 uppercase tracking-widest">Skills</h2>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
        {expertise.map(item => (
          <div class="p-4 rounded-lg border border-neutral-800 bg-neutral-900/30 hover:bg-neutral-900/50 transition-colors">
            <span class="text-neutral-300">{item}</span>
          </div>
        ))}
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
      <h2 class="text-xs font-bold text-neutral-500 mb-8 uppercase tracking-widest">Connect</h2>
      <p class="text-neutral-400 mb-8 max-w-md text-lg">
        I'm always open to new opportunities and collaborations.
      </p>
      <div class="flex flex-wrap gap-4">
        {socialLinks.map(link => (
          <a 
            href={link.url}
            target="_blank"
            rel="noopener noreferrer" 
            class="px-6 py-3 rounded-full text-neutral-300 hover:text-white border border-neutral-800 hover:border-neutral-600 transition-all"
          >
            {link.platform}
          </a>
        ))}
        <a 
          href="mailto:hello@ioannislo.com" 
          class="px-6 py-3 rounded-full bg-white text-black font-medium hover:bg-neutral-200 transition-colors"
        >
          Email Me
        </a>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  // Initial setup for reveal elements to avoid flash of unstyled content
  gsap.set("#home h1, #home p, #home .flex", { opacity: 0, y: 20 });
  gsap.set("#skills .grid div", { opacity: 0, scale: 0.9 });

  // Premium Hero Animation with Clip-Path Reveal feel
  const heroTimeline = gsap.timeline({ defaults: { ease: "expo.out" } });
  
  heroTimeline
    .to("#home h1", {
      y: 0,
      opacity: 1,
      duration: 1.5,
      stagger: 0.1
    })
    .to("#home p", {
      y: 0,
      opacity: 1,
      duration: 1.2
    }, "-=1.2")
    .to("#home .flex", {
      y: 0,
      opacity: 1,
      duration: 1.2
    }, "-=1.0");

  // Refined Scroll Animations for Sections with Parallax feel
  const sections = ["#about", "#contact"];
  
  sections.forEach(section => {
    gsap.fromTo(section, 
      { 
        y: 50, 
        opacity: 0 
      },
      {
        scrollTrigger: {
          trigger: section,
          start: "top 80%",
          toggleActions: "play none none reverse"
        },
        y: 0,
        opacity: 1,
        duration: 1.2,
        ease: "power3.out"
      }
    );
  });

  // Skills Grid - "Pop" Animation
  ScrollTrigger.batch("#skills .grid div", {
    start: "top 85%",
    onEnter: (batch) => {
      gsap.to(batch, {
        opacity: 1,
        scale: 1,
        stagger: { each: 0.1, grid: [1, 3] },
        duration: 0.8,
        ease: "back.out(1.7)",
        overwrite: true
      });
    },
    onLeaveBack: (batch) => {
      gsap.to(batch, {
        opacity: 0,
        scale: 0.9,
        duration: 0.5,
        overwrite: true
      });
    }
  });
  
  // Add subtle parallax to the entire main container
  gsap.to("main", {
    scrollTrigger: {
      trigger: "main",
      start: "top top",
      end: "bottom bottom",
      scrub: 1
    },
    y: -50,
    ease: "none"
  });
</script>
